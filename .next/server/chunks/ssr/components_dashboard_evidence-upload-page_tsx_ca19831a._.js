module.exports=[58074,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(38246),f=a.i(40695),g=a.i(3130),h=a.i(5522),i=a.i(17171),j=a.i(46893),k=a.i(87682);a.i(35112);var l=a.i(11011),m=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,l.createSlot)(`Primitive.${d}`),f=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return f.displayName=`Primitive.${d}`,{...a,[d]:f}},{}),n="Progress",[o,p]=function(a,d=[]){let e=[],f=()=>{let b=e.map(a=>c.createContext(a));return function(d){let e=d?.[a]||b;return c.useMemo(()=>({[`__scope${a}`]:{...d,[a]:e}}),[d,e])}};return f.scopeName=a,[function(d,f){let g=c.createContext(f);g.displayName=d+"Context";let h=e.length;e=[...e,f];let i=d=>{let{scope:e,children:f,...i}=d,j=e?.[a]?.[h]||g,k=c.useMemo(()=>i,Object.values(i));return(0,b.jsx)(j.Provider,{value:k,children:f})};return i.displayName=d+"Provider",[i,function(b,e){let i=e?.[a]?.[h]||g,j=c.useContext(i);if(j)return j;if(void 0!==f)return f;throw Error(`\`${b}\` must be used within \`${d}\``)}]},function(...a){let b=a[0];if(1===a.length)return b;let d=()=>{let d=a.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(a){let e=d.reduce((b,{useScope:c,scopeName:d})=>{let e=c(a)[`__scope${d}`];return{...b,...e}},{});return c.useMemo(()=>({[`__scope${b.scopeName}`]:e}),[e])}};return d.scopeName=b.scopeName,d}(f,...d)]}(n),[q,r]=o(n),s=c.forwardRef((a,c)=>{var d,e;let{__scopeProgress:f,value:g=null,max:h,getValueLabel:i=v,...j}=a;(h||0===h)&&!y(h)&&console.error((d=`${h}`,`Invalid prop \`max\` of value \`${d}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let k=y(h)?h:100;null===g||z(g,k)||console.error((e=`${g}`,`Invalid prop \`value\` of value \`${e}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let l=z(g,k)?g:null,n=x(l)?i(l,k):void 0;return(0,b.jsx)(q,{scope:f,value:l,max:k,children:(0,b.jsx)(m.div,{"aria-valuemax":k,"aria-valuemin":0,"aria-valuenow":x(l)?l:void 0,"aria-valuetext":n,role:"progressbar","data-state":w(l,k),"data-value":l??void 0,"data-max":k,...j,ref:c})})});s.displayName=n;var t="ProgressIndicator",u=c.forwardRef((a,c)=>{let{__scopeProgress:d,...e}=a,f=r(t,d);return(0,b.jsx)(m.div,{"data-state":w(f.value,f.max),"data-value":f.value??void 0,"data-max":f.max,...e,ref:c})});function v(a,b){return`${Math.round(a/b*100)}%`}function w(a,b){return null==a?"indeterminate":a===b?"complete":"loading"}function x(a){return"number"==typeof a}function y(a){return x(a)&&!isNaN(a)&&a>0}function z(a,b){return x(a)&&!isNaN(a)&&a<=b&&a>=0}u.displayName=t;var A=a.i(97895);function B({className:a,value:c,...d}){return(0,b.jsx)(s,{"data-slot":"progress",className:(0,A.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...d,children:(0,b.jsx)(u,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(c||0)}%)`}})})}var C=a.i(73320),D=a.i(87466),E=a.i(3314),F=a.i(33508),G=a.i(16201);let H=(0,a.i(70106).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var I=a.i(96221),J=a.i(52495),K=a.i(210),L=a.i(11889);let M=[{id:"1",title:"Domestic Violence Case"},{id:"2",title:"Workplace Harassment"},{id:"3",title:"Online Stalking Case"}],N=["WhatsApp","SMS","Facebook","Instagram","Twitter/X","Email","Camera","Voice Recording","Other"];function O(){let a=(0,d.useSearchParams)().get("caseId"),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)({caseId:a||"",sourcePlatform:"",dateOfIncident:"",description:"",category:""}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),v=async a=>{let b=await a.arrayBuffer();return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",b))).map(a=>a.toString(16).padStart(2,"0")).join("")},w=(0,c.useCallback)(async a=>{let b=a.map(a=>({file:a,hash:null,status:"pending",progress:0}));m(a=>[...a,...b]);for(let b=0;b<a.length;b++){let c=l.length+b;m(a=>a.map((a,b)=>b===c?{...a,status:"hashing",progress:30}:a));try{let d=await v(a[b]);m(a=>a.map((a,b)=>b===c?{...a,hash:d,status:"hashed",progress:100}:a))}catch(a){m(a=>a.map((a,b)=>b===c?{...a,status:"error",error:"Failed to hash file"}:a))}}},[l.length]),x=(0,c.useCallback)(a=>{a.preventDefault(),o(!1),w(Array.from(a.dataTransfer.files))},[w]),y=async()=>{p.caseId&&0!==l.length&&(s(!0),m(a=>a.map(a=>({...a,status:"submitting"}))),await new Promise(a=>setTimeout(a,2e3)),m(a=>a.map(a=>({...a,status:"submitted",hederaTransactionId:`0.0.${Math.floor(1e5+9e5*Math.random())}@${Date.now()}.${Math.floor(1e9*Math.random())}`}))),s(!1),u(!0))},z=p.caseId&&p.sourcePlatform&&p.dateOfIncident&&p.category&&l.length>0&&l.every(a=>"hashed"===a.status);return t?(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsx)(g.Card,{className:"glass-card neon-border",children:(0,b.jsxs)(g.CardContent,{className:"p-8 text-center",children:[(0,b.jsx)("div",{className:"w-16 h-16 rounded-full bg-green-500/10 flex items-center justify-center mx-auto mb-6",children:(0,b.jsx)(G.CheckCircle,{className:"w-8 h-8 text-green-500"})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Evidence Submitted Successfully"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Your evidence has been cryptographically verified and timestamped on the Hedera blockchain."}),(0,b.jsx)("div",{className:"space-y-3 mb-8",children:l.map((a,c)=>(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-muted/30 text-left",children:[(0,b.jsx)("p",{className:"font-medium text-foreground text-sm",children:a.file.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 font-mono break-all",children:["Hash: ",a.hash?.slice(0,32),"..."]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,b.jsx)("p",{className:"text-xs text-primary font-mono",children:a.hederaTransactionId}),(0,b.jsx)("a",{href:`https://hashscan.io/mainnet/transaction/${a.hederaTransactionId}`,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:text-primary/80",children:(0,b.jsx)(J.ExternalLink,{className:"w-3 h-3"})})]})]},c))}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,b.jsx)(f.Button,{asChild:!0,className:"bg-primary hover:bg-primary/90 text-primary-foreground",children:(0,b.jsx)(e.default,{href:`/dashboard/cases/${p.caseId}`,children:"View Case"})}),(0,b.jsx)(f.Button,{variant:"outline",className:"neon-border bg-transparent hover:bg-primary/10",onClick:()=>{m([]),q({caseId:a||"",sourcePlatform:"",dateOfIncident:"",description:"",category:""}),u(!1)},children:"Upload More Evidence"})]})]})})}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(f.Button,{variant:"ghost",asChild:!0,children:(0,b.jsxs)(e.default,{href:"/dashboard",children:[(0,b.jsx)(K.ArrowLeft,{className:"w-4 h-4 mr-2"}),"Back"]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"Upload Evidence"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Files are processed locally. Only hashes are stored."})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)(g.Card,{className:"glass-card",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(C.Upload,{className:"w-5 h-5 text-primary"}),"Select Files"]})}),(0,b.jsxs)(g.CardContent,{children:[(0,b.jsxs)("div",{onDragOver:a=>{a.preventDefault(),o(!0)},onDragLeave:()=>o(!1),onDrop:x,className:`
                border-2 border-dashed rounded-xl p-8 text-center transition-all cursor-pointer
                ${n?"border-primary bg-primary/5":"border-border hover:border-primary/50"}
              `,onClick:()=>document.getElementById("file-input")?.click(),children:[(0,b.jsx)("input",{id:"file-input",type:"file",multiple:!0,className:"hidden",onChange:a=>{a.target.files&&w(Array.from(a.target.files))},accept:"image/*,video/*,audio/*,.pdf,.doc,.docx"}),(0,b.jsx)(C.Upload,{className:"w-10 h-10 text-muted-foreground mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-foreground font-medium mb-1",children:"Drop files here or click to browse"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Images, videos, audio, PDFs, and documents"})]}),l.length>0&&(0,b.jsxs)("div",{className:"mt-6 space-y-3",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium text-foreground",children:["Selected Files (",l.length,")"]}),l.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/30",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground truncate",children:a.file.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(a.file.size/1024).toFixed(1)," KB"]}),"hashing"===a.status&&(0,b.jsx)(B,{value:a.progress,className:"h-1 mt-2"}),a.hash&&(0,b.jsxs)("p",{className:"text-xs text-primary font-mono mt-1 truncate",children:[a.hash.slice(0,24),"..."]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:["hashing"===a.status&&(0,b.jsx)(I.Loader2,{className:"w-4 h-4 text-primary animate-spin"}),"hashed"===a.status&&(0,b.jsx)(G.CheckCircle,{className:"w-4 h-4 text-green-500"}),"error"===a.status&&(0,b.jsx)(H,{className:"w-4 h-4 text-destructive"}),(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(a=>a.filter((a,b)=>b!==c))},children:(0,b.jsx)(F.X,{className:"w-4 h-4"})})]})]},c))]}),(0,b.jsx)("div",{className:"mt-6 p-4 rounded-lg bg-primary/5 border border-primary/20",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(E.Shield,{className:"w-5 h-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Privacy Protected"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Your files never leave your device. Only the SHA-256 hash is sent to our servers and recorded on the Hedera blockchain."})]})]})})]})]}),(0,b.jsxs)(g.Card,{className:"glass-card",children:[(0,b.jsx)(g.CardHeader,{children:(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(D.FileCheck,{className:"w-5 h-5 text-primary"}),"Evidence Details"]})}),(0,b.jsxs)(g.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"case",children:"Assign to Case *"}),(0,b.jsxs)(k.Select,{value:p.caseId,onValueChange:a=>q({...p,caseId:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-input border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Select a case"})}),(0,b.jsx)(k.SelectContent,{className:"glass-card",children:M.map(a=>(0,b.jsx)(k.SelectItem,{value:a.id,children:a.title},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"category",children:"Evidence Category *"}),(0,b.jsxs)(k.Select,{value:p.category,onValueChange:a=>q({...p,category:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-input border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Select category"})}),(0,b.jsx)(k.SelectContent,{className:"glass-card",children:L.EVIDENCE_CATEGORIES.map(a=>(0,b.jsx)(k.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"source",children:"Source Platform *"}),(0,b.jsxs)(k.Select,{value:p.sourcePlatform,onValueChange:a=>q({...p,sourcePlatform:a}),children:[(0,b.jsx)(k.SelectTrigger,{className:"bg-input border-border",children:(0,b.jsx)(k.SelectValue,{placeholder:"Where did this come from?"})}),(0,b.jsx)(k.SelectContent,{className:"glass-card",children:N.map(a=>(0,b.jsx)(k.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"date",children:"Date of Incident *"}),(0,b.jsx)(h.Input,{id:"date",type:"date",value:p.dateOfIncident,onChange:a=>q({...p,dateOfIncident:a.target.value}),className:"bg-input border-border"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description (Optional)"}),(0,b.jsx)(j.Textarea,{id:"description",placeholder:"Describe what this evidence shows...",value:p.description,onChange:a=>q({...p,description:a.target.value}),className:"bg-input border-border min-h-[100px]"})]}),(0,b.jsx)(f.Button,{onClick:y,disabled:!z||r,className:"w-full bg-primary hover:bg-primary/90 text-primary-foreground",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Recording on Hedera..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(E.Shield,{className:"w-4 h-4 mr-2"}),"Submit Evidence"]})})]})]})]})]})}a.s(["EvidenceUploadPage",()=>O],58074)}];

//# sourceMappingURL=components_dashboard_evidence-upload-page_tsx_ca19831a._.js.map